---
title: 設定ファイルを登録する
---

SINETStreamライブラリの設定ファイルをコンフィグサーバに登録し、他の共同利用者がその設定ファイルを取得する手順を示します。

ここではデータ暗号化、TLS接続、ブローカ認証のいずれの機能も利用しないシンプルな設定ファイルを登録することを想定しています。

## 設定ファイルを登録する

SINETStreamの設定ファイルをコンフィグサーバに登録するには、ホーム画面の「登録」リンク（下図赤丸部分）をクリックしてください。

![ホーム画面1](../img/guide-02-001.png)

下図のような登録ダイアログが表示されます。各項目を入力してください。

![登録ダイアログ1](../img/guide-02-002.png)

「名前」は登録する設定ファイルを識別するためのものになります。名前に用いることの出来る文字は英数字、`-`, `_`, `.` のいずれかです。登録済の名前と重複しないものを255文字以下で指定してください。

「コメント」には任意の文字列を指定できます。

「SINETStream設定ファイル」の欄にはダイアログを開いた時点でサンプルの設定ファイルが入力済みの状態になっています。実際の利用環境にあわせて内容を変更してください。

![登録ダイアログ2](../img/guide-02-003.png)

必要な項目を入力すると上図のように「登録」ボタンが有効になります。登録ボタンをクリックすることで設定ファイルがコンフィグ情報として登録されます。登録操作を中断したい場合は「キャンセル」ボタンをクリックしてください。

登録処理が完了するとホーム画面の表示が更新され「利用対象」「管理対象」の欄が `1` と表示されます。

![ホーム画面2](../img/guide-02-004.png)

## 登録された情報を表示する

コンフィグサーバに登録された情報を表示する手順を示します。

ホーム画面からコンフィグ情報の「一覧」リンク（前節の図にある赤丸部分）をクリックしてください。登録されているコンフィグ情報の一覧が表示されます。

![コンフィグ情報一覧](../img/guide-02-005.png)

一覧表示されている名前の箇所（上図赤丸部分）をクリックすると登録されているコンフィグ情報の詳細情報画面に表示が切り替わります（下図）。設定ファイルに関連した全ての情報を確認することが出来ます。

![コンフィグ情報詳細1](../img/guide-02-006.png)

## 共同利用者を登録する

登録したSINETStreamの設定ファイルを他の利用者が参照できるようにするために、共同利用者の登録を行います。

コンフィグ情報詳細画面の「共同利用者」と表示されている部分（前節の図にある赤丸部分）をクリックしてください。共同利用者に関するパネルが展開されて現在の登録者が一覧表示されます。この時点では、共同利用者の登録を行っていないので、コンフィグ情報を登録した自身のユーザ名(`user05@vcp-handson.org`)のみが表示されています。

![コンフィグ情報詳細2](../img/guide-02-011.png)

共同利用者パネルの右上にある登録ボタン（上図赤丸部分）をクリックしてください。共同利用者の登録ダイアログが表示されます。

![共同利用者登録ダイアログ](../img/guide-02-012.png)

共同利用者として登録するユーザ名を入力欄に指定してください。カンマ`,`で区切ることで複数のユーザ名を指定することが出来ます。ここで入力するユーザ名はあらかじめコンフィグサーバにユーザとして登録されている必要があります。ユーザの登録に関してはコンフィグサーバのシステム管理者に確認してください。

「登録」ボタンをクリックすることで共同利用者の登録が完了します。

![コンフィグ情報詳細3](../img/guide-02-013.png)

共同利用者の一覧に登録したユーザが表示されていることが確認出来ます。

## 共同利用者が設定ファイルを取得する

共同利用者として登録されたユーザが、SINETStreamの設定ファイルを取得する手順を示します。

共同利用者のユーザ名でコンフィグサーバにログインしてください。ここでは共同利用者として追加登録した`user02`としてログインした例を示します。

![共同利用者のホーム画面](../img/guide-02-101.png)

`user02`でログインした場合のホーム画面は上図のようになります。画面右上にログインユーザ名が表示されます。ここで`user02`としてログインしていることが確認できます。

ホーム画面の「コンフィグ情報」の欄に表示されている「利用対象」が`1`となっています。これは前節で `user05@vcp-handson.org` によって共同利用者として登録されたコンフィグ情報があるためです。一方「管理対象」は`0`と表示されています。これは`user02`自身によって登録されたコンフィグ情報がまだ無いためです。

コンフィグ情報詳細画面を表示すると下図のようになります。先ほど登録したSINETStream設定ファイルと同じ内容が確認出来ます。ダウンロードボタン（下図赤丸部分）をクリックすることで登録されているSINETStream設定ファイルをダウンロードすることが出来ます。

![共同利用者のコンフィグ情報詳細](../img/guide-02-102.png)

`user02`は共同利用者として登録されていますが、データ管理者ではないので「データ暗号鍵」「添付ファイル」「ユーザパラメータ」「共同利用者」などの付随情報のパネルが表示されません。またコンフィグ情報の編集ボタンも表示されません。
